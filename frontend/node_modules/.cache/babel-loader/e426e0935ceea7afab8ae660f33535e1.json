{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/app/src/components/HelloWorld.vue?vue&type=template&id=469af010&scoped=true","dependencies":[{"path":"/app/src/components/HelloWorld.vue","mtime":1711277475959},{"path":"/app/babel.config.js","mtime":1710746905612},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1710760179457},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1710760179450},{"path":"/app/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1710760193665},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1710760179457},{"path":"/app/node_modules/vue-loader-v16/dist/index.js","mtime":1710760193665}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZCgiZGF0YS12LTQ2OWFmMDEwIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG4pOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udGFpbmVyIiwKICBzdHlsZTogewogICAgInRleHQtYWxpZ24iOiAibGVmdCIKICB9Cn07CmNvbnN0IF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIHsKICBjbGFzczogInRpdGxlIgp9LCAiRG9jdW1lbnQgUXVlc3Rpb24gQW5zd2VyaW5nIiwgLTEgLyogSE9JU1RFRCAqLykpOwpjb25zdCBfaG9pc3RlZF8zID0gewogIGtleTogMCwKICBjbGFzczogImZpbGUtbmFtZSIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAiwqDCoCIsIC0xIC8qIEhPSVNURUQgKi8pKTsKY29uc3QgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgewogIGNsYXNzOiAicmVzcG9uc2UtdGl0bGUiLAogIHN0eWxlOiB7CiAgICAidGV4dC1hbGlnbiI6ICJsZWZ0IgogIH0KfSwgIlJlc3VsdHMiLCAtMSAvKiBIT0lTVEVEICovKSk7CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9hX3R5cG9ncmFwaHkgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS10eXBvZ3JhcGh5Iik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImEtaW5wdXQiKTsKICBjb25zdCBfY29tcG9uZW50X3VwbG9hZF9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoInVwbG9hZC1pY29uIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLWJ1dHRvbiIpOwogIGNvbnN0IF9jb21wb25lbnRfYV91cGxvYWQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS11cGxvYWQiKTsKICBjb25zdCBfY29tcG9uZW50X2FfY29sID0gX3Jlc29sdmVDb21wb25lbnQoImEtY29sIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS1jYXJkIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2xheW91dF9jb250ZW50ID0gX3Jlc29sdmVDb21wb25lbnQoImEtbGF5b3V0LWNvbnRlbnQiKTsKICBjb25zdCBfY29tcG9uZW50X2FfbGF5b3V0ID0gX3Jlc29sdmVDb21wb25lbnQoImEtbGF5b3V0Iik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfYV9sYXlvdXQsIHsKICAgIGNsYXNzOiAibGF5b3V0IgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2xheW91dF9jb250ZW50LCB7CiAgICAgIHN0eWxlOiB7CiAgICAgICAgcGFkZGluZzogJzUwcHgnCiAgICAgIH0KICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX3R5cG9ncmFwaHksIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2hvaXN0ZWRfMl0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2NhcmQsIG51bGwsIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9pbnB1dCwgewogICAgICAgICAgb25DaGFuZ2U6ICRzZXR1cC51cGRhdGVRdWVyeSwKICAgICAgICAgIGNsYXNzOiAiaW5wdXQiLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICJFbnRlciBxdWVyeSB0ZXh0IgogICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsib25DaGFuZ2UiXSksICRzZXR1cC5maWxlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBudWxsLCAiVXBsb2FkZWQgRmlsZTogIiArIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmZpbGUubmFtZSksIDEgLyogVEVYVCAqLyldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfY29sLCBudWxsLCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV91cGxvYWQsIHsKICAgICAgICAgICAgY2xhc3M6ICJ1cGxvYWQtYnRuIiwKICAgICAgICAgICAgImJlZm9yZS11cGxvYWQiOiAkc2V0dXAuaGFuZGxlQmVmb3JlVXBsb2FkLAogICAgICAgICAgICAic2hvdy11cGxvYWQtbGlzdCI6IGZhbHNlLAogICAgICAgICAgICBvbkNoYW5nZTogJHNldHVwLmhhbmRsZUZpbGVVcGxvYWQKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfYnV0dG9uLCB7CiAgICAgICAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgICAgICAgIGdob3N0OiAiIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3VwbG9hZF9pY29uKSwgX2NyZWF0ZVRleHRWTm9kZSgiIENsaWNrIHRvIFVwbG9hZCAiKV0pLAogICAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgICAgIH0pXSksCiAgICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgICB9LCA4IC8qIFBST1BTICovLCBbImJlZm9yZS11cGxvYWQiLCAib25DaGFuZ2UiXSksIF9ob2lzdGVkXzQsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfYnV0dG9uLCB7CiAgICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICAgICAgb25DbGljazogJHNldHVwLnN1Ym1pdERhdGEsCiAgICAgICAgICAgIGNsYXNzOiAic3VibWl0LWJ1dHRvbiIsCiAgICAgICAgICAgIGRpc2FibGVkOiBfY3R4LnN1Ym1pdHRpbmcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVUZXh0Vk5vZGUoIiBTdWJtaXQgIildKSwKICAgICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICAgIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayIsICJkaXNhYmxlZCJdKV0pLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV90eXBvZ3JhcGh5LCBudWxsLCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2hvaXN0ZWRfNV0pLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV90eXBvZ3JhcGh5LCB7CiAgICAgICAgICBjbGFzczogInByaW1hcnkiLAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICIyMHB4IiwKICAgICAgICAgICAgIndpZHRoIjogIjEyMDBweCIKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5hcGlSZXNwb25zZSksIDEgLyogVEVYVCAqLyldKSwKICAgICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgICAgfSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KV0pXSksCiAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICB9KV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9KTsKfQ=="},{"version":3,"names":["class","style","_createElementVNode","_createBlock","_component_a_layout","_createVNode","_component_a_layout_content","padding","_hoisted_1","_component_a_typography","_hoisted_2","_component_a_card","_component_a_input","onChange","$setup","updateQuery","placeholder","file","_createElementBlock","_hoisted_3","_toDisplayString","name","_component_a_col","_component_a_upload","handleBeforeUpload","handleFileUpload","_component_a_button","type","ghost","_component_upload_icon","_hoisted_4","onClick","submitData","disabled","_ctx","submitting","_hoisted_5","apiResponse"],"sources":["/app/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <a-layout class=\"layout\">\n    <a-layout-content :style=\"{ padding: '50px' }\">\n      <div class=\"container\" style=\"text-align: left\">\n        <a-typography>\n          <h1 class=\"title\">Document Question Answering</h1>\n        </a-typography>\n        <a-card>\n          <a-input\n            @change=\"updateQuery\"\n            class=\"input\"\n            placeholder=\"Enter query text\"\n          />\n          <div v-if=\"file\" class=\"file-name\">\n            <p>Uploaded File: {{ file.name }}</p>\n          </div>\n          <a-col>\n            <a-upload\n              class=\"upload-btn\"\n              :before-upload=\"handleBeforeUpload\"\n              :show-upload-list=\"false\"\n              @change=\"handleFileUpload\"\n            >\n              <a-button type=\"primary\" ghost>\n                <upload-icon /> Click to Upload\n              </a-button>\n            </a-upload>\n            <span>&nbsp;&nbsp;</span>\n            <a-button\n              type=\"primary\"\n              @click=\"submitData\"\n              class=\"submit-button\"\n              :disabled=\"submitting\"\n            >\n              Submit\n            </a-button>\n          </a-col>\n\n          <a-typography>\n            <h3 class=\"response-title\" style=\"text-align: left\">Results</h3>\n          </a-typography>\n\n          <a-typography class=\"primary\" style=\"font-size: 20px; width: 1200px\">\n            {{ apiResponse }}\n          </a-typography>\n        </a-card>\n      </div>\n    </a-layout-content>\n  </a-layout>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport markdownIt from \"markdown-it\";\nimport {\n  Layout,\n  Typography,\n  Card,\n  Button,\n  Upload,\n  message,\n} from \"ant-design-vue\";\nimport { UploadOutlined } from \"@ant-design/icons-vue\";\n\nexport default {\n  name: \"DocumentQuestionAnswering\",\n  components: {\n    \"a-layout\": Layout,\n    \"a-layout-content\": Layout.Content,\n    \"a-typography\": Typography,\n    \"a-card\": Card,\n    \"a-upload\": Upload,\n    \"a-button\": Button,\n    \"upload-icon\": UploadOutlined,\n  },\n\n  setup() {\n    const file = ref(null);\n    let query = \"query 1\";\n    const apiResponse = ref(null);\n    const submitting = ref(false);\n\n    const handleBeforeUpload = () => {\n      file.value = null;\n      return true;\n    };\n\n    const handleFileUpload = (info) => {\n      console.log(info);\n      file.value = info.file;\n      // Check if the file if pdf\n      if (file.value.type !== \"application/pdf\") {\n        message.error(\"Please upload a PDF file.\");\n        file.value = null;\n      }\n\n      // Check if file is under 100MB\n      if (file.value.size > 10 * 1024 * 1024) {\n        message.error(\"File size must be smaller than 10MB!\");\n        file.value = null;\n      }\n    };\n\n    const updateQuery = (event) => {\n      query = event.target.value;\n    };\n\n    const submitData = async () => {\n      submitting.value = true;\n\n      if (!file.value) {\n        message.error(\"Please select a file.\");\n        return;\n      }\n\n      let formData = new FormData();\n      formData.append(\"file\", file.value.originFileObj);\n      formData.append(\"query\", query);\n\n      try {\n        const response = await axios.post(\n          \"https://ragbackend.azurewebsites.net//predict\",\n          formData,\n          {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          }\n        );\n\n        apiResponse.value = response.data.result;\n        message.success(\"Data submitted successfully.\");\n      } catch (error) {\n        console.error(\"API request failed:\", error);\n        message.error(\"Failed to get response from the API.\");\n        apiResponse.value = null;\n      } finally {\n        submitting.value = false;\n      }\n    };\n\n    const renderMarkdown = (text) => {\n      const md = new markdownIt();\n      return md.render(text);\n    };\n\n    return {\n      file,\n      query,\n      apiResponse,\n      updateQuery,\n      handleBeforeUpload,\n      handleFileUpload,\n      submitData,\n      renderMarkdown,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  margin: 0 auto;\n}\n\n.title {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.input {\n  margin-top: 20px;\n  font-size: 30px;\n}\n\n.submit-button {\n  width: 20%;\n  margin-top: 20px; /* Added margin for spacing */\n}\n\n.upload-btn {\n  margin-bottom: 20px; /* Added margin for spacing */\n}\n</style>\n"],"mappings":";;;EAGWA,KAAK,EAAC,WAAW;EAACC,KAAwB,EAAxB;IAAA;EAAA;;gEAEnBC,mBAAA,CAAkD;EAA9CF,KAAK,EAAC;AAAO,GAAC,6BAA2B;;;EAQ5BA,KAAK,EAAC;;gEAcrBE,mBAAA,CAAyB,cAAnB,IAAY;gEAYlBA,mBAAA,CAAgE;EAA5DF,KAAK,EAAC,gBAAgB;EAACC,KAAwB,EAAxB;IAAA;EAAA;GAAyB,SAAO;;;;;;;;;;;uBAtCrEE,YAAA,CA+CWC,mBAAA;IA/CDJ,KAAK,EAAC;EAAQ;sBACtB,MA6CmB,CA7CnBK,YAAA,CA6CmBC,2BAAA;MA7CAL,KAAK,EAAE;QAAAM,OAAA;MAAA;IAAmB;wBAC3C,MA2CM,CA3CNL,mBAAA,CA2CM,OA3CNM,UA2CM,GA1CJH,YAAA,CAEeI,uBAAA;0BADb,MAAkD,CAAlDC,UAAkD,C;;UAEpDL,YAAA,CAsCSM,iBAAA;0BArCP,MAIE,CAJFN,YAAA,CAIEO,kBAAA;UAHCC,QAAM,EAAEC,MAAA,CAAAC,WAAW;UACpBf,KAAK,EAAC,OAAO;UACbgB,WAAW,EAAC;+CAEHF,MAAA,CAAAG,IAAI,I,cAAfC,mBAAA,CAEM,OAFNC,UAEM,GADJjB,mBAAA,CAAqC,WAAlC,iBAAe,GAAAkB,gBAAA,CAAGN,MAAA,CAAAG,IAAI,CAACI,IAAI,iB,wCAEhChB,YAAA,CAoBQiB,gBAAA;4BAnBN,MASW,CATXjB,YAAA,CASWkB,mBAAA;YARTvB,KAAK,EAAC,YAAY;YACjB,eAAa,EAAEc,MAAA,CAAAU,kBAAkB;YACjC,kBAAgB,EAAE,KAAK;YACvBX,QAAM,EAAEC,MAAA,CAAAW;;8BAET,MAEW,CAFXpB,YAAA,CAEWqB,mBAAA;cAFDC,IAAI,EAAC,SAAS;cAACC,KAAK,EAAL;;gCACvB,MAAe,CAAfvB,YAAA,CAAewB,sBAAA,G,iBAAA,mBACjB,E;;;;4DAEFC,UAAyB,EACzBzB,YAAA,CAOWqB,mBAAA;YANTC,IAAI,EAAC,SAAS;YACbI,OAAK,EAAEjB,MAAA,CAAAkB,UAAU;YAClBhC,KAAK,EAAC,eAAe;YACpBiC,QAAQ,EAAEC,IAAA,CAAAC;;8BACZ,MAED,C,iBAFC,UAED,E;;;;YAGF9B,YAAA,CAEeI,uBAAA;4BADb,MAAgE,CAAhE2B,UAAgE,C;;YAGlE/B,YAAA,CAEeI,uBAAA;UAFDT,KAAK,EAAC,SAAS;UAACC,KAAsC,EAAtC;YAAA;YAAA;UAAA;;4BAC5B,MAAiB,C,kCAAda,MAAA,CAAAuB,WAAW,iB","ignoreList":[]}]}